<!DOCTYPE html>
<html>
  <body>
    <h1>Today's Pattern</h1>
    <h1 id='pattern8'></h1>
    <h1 id='pattern12'></h1>
    <h1 id='pattern16'></h1>
  </body>
</html>

<script type='application/javascript'>
  function genPattern(patternLen) {
    var pattern = '';
    var i = Math.floor(Math.random() * 2);
    var j;
    while (pattern.length < patternLen) {
      if (i % 2 == 0) {
        var letter = 'R';
      } else {
        var letter = 'L';
      }
      for (j = 0; j < Math.floor(Math.random() * 2) + 1; j++) {
        pattern += letter;
      }
      i++;
    }
    return pattern.slice(0, patternLen);
  }

  function checkPattern(pattern) {
    var newPattern = pattern + pattern;
    console.log(newPattern);
    var inARow = 1;
    var i;
    for (i = 1; i < newPattern.length; i++) {
      if (newPattern.charAt(i) == newPattern.charAt(i - 1)) {
        inARow++;
      } else {
        inARow = 1;
      }
      if (inARow > 2) {
        return false;
      }
    }
    return true;
  }

  var pattern8;
  var pattern12;
  var pattern16;
  var goodToGo = false;
  while (!goodToGo) {
    pattern8 = genPattern(8);
    if (checkPattern(pattern8)) {
      goodToGo = true;
    }
  }

  goodToGo = false;
  while (!goodToGo) {
    pattern12 = genPattern(12);
    if (checkPattern(pattern12)) {
      goodToGo = true;
    }
  }

  goodToGo = false;
  while (!goodToGo) {
    pattern16 = genPattern(16);
    if (checkPattern(pattern16)) {
      goodToGo = true;
    }
  }

  document.getElementById('pattern8').innerHTML = pattern8;
  document.getElementById('pattern12').innerHTML = pattern12;
  document.getElementById('pattern16').innerHTML = pattern16;
</script>
